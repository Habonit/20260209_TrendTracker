"""
# ============================================
# Phase 6-1: ì•± êµ¬ì¡°ì™€ ì§„ìž…ì 
# ============================================
#
# ðŸŽ¯ ì´ íŒŒì¼ì—ì„œ ë°°ìš¸ ê²ƒ:
# - í”„ë¡œê·¸ëž¨ì˜ ì§„ìž…ì (entry point)ì´ëž€?
# - if __name__ == "__main__" ì˜ ì˜ë¯¸
# - import ì •ë¦¬í•˜ëŠ” ë°©ë²•
# - Streamlit ì•±ì˜ ê¸°ë³¸ êµ¬ì¡°
#
# ðŸ“‹ ì‹¤í–‰ ë°©ë²•:
# streamlit run materials/phase_6_structure.py
# ============================================
"""

import streamlit as st
from typing import Optional, List
from dataclasses import dataclass
from datetime import datetime

st.set_page_config(page_title="Phase 6-1: ì•± êµ¬ì¡°", page_icon="ðŸ—ï¸")

st.title("ðŸ—ï¸ Phase 6-1: ì•± êµ¬ì¡°ì™€ ì§„ìž…ì ")

# ============================================
# ðŸ“š ì´ë¡ : ì§„ìž…ì ì´ëž€?
# ============================================

st.header("1ï¸âƒ£ í”„ë¡œê·¸ëž¨ì˜ ì§„ìž…ì ")

st.markdown("""
## ì§„ìž…ì (Entry Point)ì´ëž€?

í”„ë¡œê·¸ëž¨ì´ **ì‹œìž‘í•˜ëŠ” ì§€ì **ìž…ë‹ˆë‹¤.

### ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

> ðŸŽ¬ **ì˜í™” ë¹„ìœ **
>
> - ì§„ìž…ì  = ì˜í™”ì˜ ì²« ìž¥ë©´
> - ë‹¤ë¥¸ í•¨ìˆ˜ë“¤ = ì˜í™”ì˜ ê° ì”¬
> - main() = ê°ë…ì´ "ì•¡ì…˜!" ì™¸ì¹˜ëŠ” ê³³

### íŒŒì´ì¬ì˜ ì§„ìž…ì 

```python
# ì´ ì½”ë“œê°€ ì§„ìž…ì !
if __name__ == "__main__":
    main()
```

### ì™œ ì´ë ‡ê²Œ ì“¸ê¹Œìš”?

```python
# calculator.py
def add(a, b):
    return a + b

def main():
    result = add(1, 2)
    print(result)

if __name__ == "__main__":
    main()
```

| ìƒí™© | `__name__` ê°’ | main() ì‹¤í–‰? |
|------|--------------|-------------|
| `python calculator.py` | `"__main__"` | âœ… ì‹¤í–‰ |
| `import calculator` | `"calculator"` | âŒ ì‹¤í–‰ ì•ˆ í•¨ |

â†’ **ì§ì ‘ ì‹¤í–‰í•  ë•Œë§Œ** main()ì´ í˜¸ì¶œë©ë‹ˆë‹¤!
""")

st.divider()

# ============================================
# ðŸ“š ì´ë¡ : Streamlit ì•± êµ¬ì¡°
# ============================================

st.header("2ï¸âƒ£ Streamlit ì•± êµ¬ì¡°")

st.markdown("""
## ê¸°ë³¸ êµ¬ì¡°

```python
# 1. import ëª¨ìŒ (ë§¨ ìœ„)
import streamlit as st
from config.settings import Settings
from services.search_service import search_news

# 2. í—¬í¼ í•¨ìˆ˜ ì •ì˜ (ì¤‘ê°„)
def initialize():
    ...

def process_search():
    ...

# 3. ë©”ì¸ í•¨ìˆ˜ (í•µì‹¬ ë¡œì§)
def main():
    st.set_page_config(...)  # íŽ˜ì´ì§€ ì„¤ì • (í•­ìƒ ì²« ì¤„!)
    initialize()              # ì´ˆê¸°í™”
    process_search()          # ë©”ì¸ ë¡œì§

# 4. ì§„ìž…ì  (ë§¨ ì•„ëž˜)
if __name__ == "__main__":
    main()
```

## ì™œ ì´ ìˆœì„œì¼ê¹Œìš”?

1. **import**: ì‚¬ìš©í•  ë„êµ¬ë¥¼ ë¨¼ì € ì¤€ë¹„
2. **í•¨ìˆ˜ ì •ì˜**: ë„êµ¬ ì‚¬ìš©ë²•ì„ ì •ì˜
3. **main()**: ì‹¤ì œ ìž‘ì—… ìˆ˜í–‰
4. **ì§„ìž…ì **: í”„ë¡œê·¸ëž¨ ì‹œìž‘!

> ðŸ³ **ìš”ë¦¬ ë¹„ìœ **
>
> 1. import = ìž¬ë£Œ ì¤€ë¹„
> 2. í•¨ìˆ˜ ì •ì˜ = ë ˆì‹œí”¼ ìž‘ì„±
> 3. main() = ìš”ë¦¬ ì‹œìž‘
> 4. ì§„ìž…ì  = "ì‹œìž‘!" ì‹ í˜¸
""")

st.divider()

# ============================================
# ðŸ“š ì´ë¡ : import ì •ë¦¬
# ============================================

st.header("3ï¸âƒ£ import ì •ë¦¬í•˜ê¸°")

st.markdown("""
## import ìˆœì„œ ê·œì¹™

1. **í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬** (íŒŒì´ì¬ ë‚´ìž¥)
2. **ì™¸ë¶€ íŒ¨í‚¤ì§€** (pip/uvë¡œ ì„¤ì¹˜)
3. **ë‚´ë¶€ ëª¨ë“ˆ** (ìš°ë¦¬ê°€ ë§Œë“  íŒŒì¼)

```python
# 1. í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬
import os
from datetime import datetime
from typing import Optional, List

# 2. ì™¸ë¶€ íŒ¨í‚¤ì§€ (ë¹ˆ ì¤„ë¡œ êµ¬ë¶„)
import streamlit as st
import pandas as pd

# 3. ë‚´ë¶€ ëª¨ë“ˆ (ë¹ˆ ì¤„ë¡œ êµ¬ë¶„)
from config.settings import Settings
from services.search_service import search_news
from components.search_form import render_search_form
```

## import ìŠ¤íƒ€ì¼

| ìŠ¤íƒ€ì¼ | ì˜ˆì‹œ | ì‚¬ìš© ì‹œì  |
|--------|------|----------|
| ëª¨ë“ˆ ì „ì²´ | `import os` | ëª¨ë“ˆëª….í•¨ìˆ˜() í˜•íƒœë¡œ ì‚¬ìš© |
| íŠ¹ì • í•­ëª© | `from os import path` | í•­ëª©ì„ ì§ì ‘ ì‚¬ìš© |
| ë³„ì¹­ ì‚¬ìš© | `import pandas as pd` | ì´ë¦„ì´ ê¸¸ ë•Œ |

## ê´€ë ¨ í•­ëª© ê·¸ë£¹í™”

```python
# ê´€ë ¨ëœ ê²ƒë“¤ì€ í•œ ì¤„ì—!
from components.sidebar import (
    render_sidebar_header,
    render_settings,
    render_info,
    render_history_list,
    render_download_button
)
```
""")

st.divider()

# ============================================
# ðŸ” ì˜ˆì œ: ì‹¤ì œ ì•± êµ¬ì¡° ì‹œë®¬ë ˆì´ì…˜
# ============================================

st.header("4ï¸âƒ£ ì‹¤ì œ ì•± êµ¬ì¡° ì‹œë®¬ë ˆì´ì…˜")

st.markdown("### ì´ Streamlit ì•± ìžì²´ê°€ í•˜ë‚˜ì˜ ì˜ˆì œìž…ë‹ˆë‹¤!")

with st.expander("ðŸ“‚ ì´ íŒŒì¼ì˜ êµ¬ì¡° ë³´ê¸°", expanded=True):
    st.code('''
# ============================================
# 1. import ëª¨ìŒ
# ============================================
import streamlit as st
from typing import Optional, List
from dataclasses import dataclass
from datetime import datetime

# ============================================
# 2. íŽ˜ì´ì§€ ì„¤ì • (í•­ìƒ ì²« ë²ˆì§¸!)
# ============================================
st.set_page_config(page_title="Phase 6-1", page_icon="ðŸ—ï¸")

# ============================================
# 3. í—¬í¼ í•¨ìˆ˜ ì •ì˜ (í•„ìš”ì‹œ)
# ============================================
def render_header():
    st.title("ðŸ—ï¸ Phase 6-1: ì•± êµ¬ì¡°")

def render_content():
    st.write("ë‚´ìš©...")

# ============================================
# 4. ë©”ì¸ ë¡œì§
# ============================================
render_header()
render_content()
# ... (ì´í•˜ ìƒëžµ)

# ============================================
# 5. ì§„ìž…ì  (ì´ íŒŒì¼ì—ì„œëŠ” ìƒëžµ)
# ============================================
# Streamlitì€ íŒŒì¼ ì „ì²´ë¥¼ ì‹¤í–‰í•˜ë¯€ë¡œ
# if __name__ == "__main__": ì—†ì´ë„ ë™ìž‘!
    ''', language="python")

st.markdown("""
### ðŸ’¡ ì°¸ê³ 

Streamlitì€ `streamlit run file.py` ëª…ë ¹ìœ¼ë¡œ ì‹¤í–‰í•˜ë¯€ë¡œ,
`if __name__ == "__main__":` ì—†ì´ë„ ë™ìž‘í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ **êµ¬ì¡°í™”ë¥¼ ìœ„í•´** main() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤!
""")

st.divider()

# ============================================
# âœï¸ ê°€ì´ë“œ ì‹¤ìŠµ
# ============================================

st.header("âœï¸ ê°€ì´ë“œ ì‹¤ìŠµ: ì•± ë¼ˆëŒ€ ë§Œë“¤ê¸°")

st.markdown("""
### ëª©í‘œ
ê°„ë‹¨í•œ Streamlit ì•±ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ë³´ê¸°

### ížŒíŠ¸
- íŽ˜ì´ì§€ ì„¤ì • â†’ ì´ˆê¸°í™” â†’ UI ë Œë”ë§ ìˆœì„œ
- í•¨ìˆ˜ë¡œ ê° ë¶€ë¶„ ë¶„ë¦¬
""")

st.subheader("ðŸŽ¯ ì‹¤ìŠµ ì˜ì—­")

st.code('''
# ============================================
# âœï¸ ì‹¤ìŠµ: ê°„ë‹¨í•œ ì•± ë¼ˆëŒ€
# ============================================

import streamlit as st
from datetime import datetime

# TODO 1: íŽ˜ì´ì§€ ì„¤ì • í•¨ìˆ˜ ë§Œë“¤ê¸°
# ížŒíŠ¸: st.set_page_config(page_title="...", page_icon="...")

# >>> ì •ë‹µ <<<
# def setup_page():
#     st.set_page_config(
#         page_title="My App",
#         page_icon="ðŸŽ¯",
#         layout="wide"
#     )


# TODO 2: ì´ˆê¸°í™” í•¨ìˆ˜ ë§Œë“¤ê¸°
# - session_stateì— "counter" ì´ˆê¸°í™” (ê¸°ë³¸ê°’ 0)
# - session_stateì— "username" ì´ˆê¸°í™” (ê¸°ë³¸ê°’ ë¹ˆ ë¬¸ìžì—´)

# >>> ì •ë‹µ <<<
# def initialize():
#     if "counter" not in st.session_state:
#         st.session_state.counter = 0
#     if "username" not in st.session_state:
#         st.session_state.username = ""


# TODO 3: í—¤ë” ë Œë”ë§ í•¨ìˆ˜ ë§Œë“¤ê¸°
# - ì œëª©: "ë‚˜ì˜ ì²« ì•±"
# - í˜„ìž¬ ì‹œê°„ í‘œì‹œ

# >>> ì •ë‹µ <<<
# def render_header():
#     st.title("ðŸŽ¯ ë‚˜ì˜ ì²« ì•±")
#     st.caption(f"í˜„ìž¬ ì‹œê°„: {datetime.now().strftime('%Y-%m-%d %H:%M')}")


# TODO 4: ë©”ì¸ í•¨ìˆ˜ ë§Œë“¤ê¸°
# - ìœ„ í•¨ìˆ˜ë“¤ì„ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œ

# >>> ì •ë‹µ <<<
# def main():
#     setup_page()
#     initialize()
#     render_header()
#     # ì—¬ê¸°ì— ì¶”ê°€ ë¡œì§...


# TODO 5: ì§„ìž…ì  ìž‘ì„±

# >>> ì •ë‹µ <<<
# if __name__ == "__main__":
#     main()
''', language="python")

st.markdown("""
### ðŸ’¡ ì‹¤ìŠµ í•´ì„¤

**TODO 1**: `st.set_page_config()`ëŠ” ë°˜ë“œì‹œ **ê°€ìž¥ ë¨¼ì €** í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤!

**TODO 2**: ì´ˆê¸°í™” í•¨ìˆ˜ì—ì„œ ëª¨ë“  session_stateë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬í•˜ë©´ íŽ¸ë¦¬í•©ë‹ˆë‹¤.

**TODO 3**: í—¤ë”ë‚˜ ë°˜ë³µë˜ëŠ” UIëŠ” í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ë©´ ì½”ë“œê°€ ê¹”ë”í•´ì§‘ë‹ˆë‹¤.

**TODO 4**: main() í•¨ìˆ˜ì—ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ë“¤ì„ **ìˆœì„œëŒ€ë¡œ** í˜¸ì¶œí•©ë‹ˆë‹¤.

**TODO 5**: `if __name__ == "__main__":` íŒ¨í„´ìœ¼ë¡œ ì§„ìž…ì ì„ ë§Œë“­ë‹ˆë‹¤.
""")

st.divider()

# ============================================
# ðŸ† ì±Œë¦°ì§€
# ============================================

st.header("ðŸ† ì±Œë¦°ì§€: ë¯¸ë‹ˆ ëŒ€ì‹œë³´ë“œ êµ¬ì¡°")

st.markdown("""
### ëª©í‘œ
ì™„ì „í•œ êµ¬ì¡°ë¥¼ ê°–ì¶˜ ë¯¸ë‹ˆ ëŒ€ì‹œë³´ë“œ ì•± ë§Œë“¤ê¸°

âš ï¸ **ì •ë‹µì´ ì œê³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.** ê°•ì‚¬ì™€ í•¨ê»˜ í’€ì–´ë³´ì„¸ìš”!
""")

st.subheader("ðŸŽ¯ ì±Œë¦°ì§€ ì˜ì—­")

st.code('''
# ============================================
# ðŸ† ì±Œë¦°ì§€: ë¯¸ë‹ˆ ëŒ€ì‹œë³´ë“œ
# ============================================
# âš ï¸ ì •ë‹µì´ ì œê³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

# 1. import ëª¨ìŒ
import streamlit as st
from datetime import datetime
from typing import Optional

# 2. ìƒìˆ˜ ì •ì˜
MENU_OPTIONS = ["í™ˆ", "ë°ì´í„°", "ì„¤ì •"]

# TODO 1: setup_page() í•¨ìˆ˜
# - page_title: "ë¯¸ë‹ˆ ëŒ€ì‹œë³´ë“œ"
# - layout: "wide"


# TODO 2: initialize() í•¨ìˆ˜
# - session_state: current_menu (ê¸°ë³¸ê°’: "í™ˆ")
# - session_state: data_list (ê¸°ë³¸ê°’: ë¹ˆ ë¦¬ìŠ¤íŠ¸)


# TODO 3: render_sidebar() í•¨ìˆ˜
# - ì‚¬ì´ë“œë°”ì— ë©”ë‰´ ì„ íƒ (st.sidebar.radio)
# - ì„ íƒëœ ë©”ë‰´ë¥¼ session_stateì— ì €ìž¥


# TODO 4: render_home() í•¨ìˆ˜
# - í™˜ì˜ ë©”ì‹œì§€
# - í˜„ìž¬ ì‹œê°„ í‘œì‹œ


# TODO 5: render_data() í•¨ìˆ˜
# - ë°ì´í„° ìž…ë ¥ í¼
# - ë°ì´í„° ëª©ë¡ í‘œì‹œ


# TODO 6: render_settings() í•¨ìˆ˜
# - ê°„ë‹¨í•œ ì„¤ì • ì˜µì…˜ë“¤


# TODO 7: main() í•¨ìˆ˜
# - ìœ„ í•¨ìˆ˜ë“¤ì„ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œ
# - current_menuì— ë”°ë¼ ë‹¤ë¥¸ íŽ˜ì´ì§€ ë Œë”ë§


# TODO 8: ì§„ìž…ì 

''', language="python")

st.divider()

# ============================================
# ðŸ“‹ ì •ë¦¬
# ============================================

st.header("ðŸ“‹ ì •ë¦¬")

st.markdown("""
### ì´ë²ˆ íŒŒì¼ì—ì„œ ë°°ìš´ ê²ƒ

| ê°œë… | ì„¤ëª… |
|------|------|
| ì§„ìž…ì  | í”„ë¡œê·¸ëž¨ì´ ì‹œìž‘í•˜ëŠ” ì§€ì  |
| `if __name__ == "__main__":` | ì§ì ‘ ì‹¤í–‰í•  ë•Œë§Œ main() í˜¸ì¶œ |
| import ìˆœì„œ | í‘œì¤€ â†’ ì™¸ë¶€ â†’ ë‚´ë¶€ ìˆœì„œ |
| ì•± êµ¬ì¡° | ì„¤ì • â†’ ì´ˆê¸°í™” â†’ ë Œë”ë§ |

### í•µì‹¬ íŒ¨í„´

```python
# 1. import
import streamlit as st
from mymodule import myfunction

# 2. í•¨ìˆ˜ ì •ì˜
def initialize():
    if "key" not in st.session_state:
        st.session_state.key = value

def render_ui():
    st.title("ì œëª©")

# 3. ë©”ì¸ í•¨ìˆ˜
def main():
    st.set_page_config(...)
    initialize()
    render_ui()

# 4. ì§„ìž…ì 
if __name__ == "__main__":
    main()
```

### âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì§„ìž…ì ì˜ ì˜ë¯¸ë¥¼ ì´í•´í–ˆë‹¤
- [ ] `if __name__ == "__main__":` íŒ¨í„´ì„ ì•ˆë‹¤
- [ ] import ìˆœì„œ ê·œì¹™ì„ ì•ˆë‹¤
- [ ] Streamlit ì•±ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ì•ˆë‹¤
- [ ] ì±Œë¦°ì§€ë¥¼ ê°•ì‚¬ì™€ í•¨ê»˜ í’€ì–´ë´¤ë‹¤
""")

st.info("ë‹¤ìŒ íŒŒì¼: `phase_6_flow.py` - ë°ì´í„° íë¦„ê³¼ ëª¨ë“œ ì „í™˜")
